<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0" />
  <title>Office Hour Check-in</title>
  <link rel="shortcut icon" href="favicon.ico">

  <div id="app" class="flex flex-column"></div>
  <script src="/js/jquery.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <script src="/js/feathers.js"></script>
  <script src="/js/toastr.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/global.css">
  <link rel="stylesheet" href="/css/toastr.min.css">
</head>
<body>
  <script src="/js/student.js"></script>
  <nav class="navbar navbar-inverse">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">CMSC330 Office Hours</a>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li class="active"><a href="#">Home <span class="sr-only">(current)</span></a></li>
          <li><a href="http://cs.umd.edu/class/fall2017/cmsc330/#officehours">OH Schedule</a></li>
          <li><a href="/faq.html">FAQ </a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li><a href="#" onclick="logout()">Logout</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <div id="main" class="container">
    <div class="row">
      <div class="col-md-3">
        <p class="lead">Available TAs: <strong id="num-tas">0</span></strong>
          <hr>
          <div id="ta-panel" class="panel panel-primary">
            <div class="panel-heading">TAs hosting office hours</div>
            <!-- Table -->
            <table id="ta-table" class="table">
            </table>
          </div>
        </div>
        <div class="col-md-6">
          <p class="lead">Students in queue: <strong id="students-in-queue">...</strong></p>
          <hr>
          <div class="panel panel-default">
            <div class="panel-heading">Request Office Hours</div>
            <div class="panel-body">
              <div id="ticket-submit-area">
                <p id="num-tokens">Loading...</p>
                <p><small>This will add you to the office hours queue and will cost one OH token.
                  If you run out of tokens, you will not be able to recieve office hours assistance
                  until regeneration (every 24 hours).</small>
                </p>
                <hr>
                <form id="ticket-submit-form">
                  <textarea id="ticket-desc" class="form-control" rows="2" placeholder="Briefly describe your issue (max 2 sentences)"></textarea>
                  <br>
                  <input type="text" id="ticket-code" class="form-control" rows="1" placeholder="Passcode" autocomplete="off"></input>
                  <br>
                  <button id="ticket-button" type="submit" class="btn btn-default">Request help</button>
                </form>
              </div>
              <div id="ticket-no-submit" style="display:none">
                <h4 id="ticket-queue-msg"></h4>
                <button id="cancel-req" type="button" class="btn btn-danger" style="margin-top:10px;">
                  Cancel request
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  </html>
